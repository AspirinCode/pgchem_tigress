

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Testing the Code &mdash; Open Babel v2.3.0 documentation</title>
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.3.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Open Babel v2.3.0 documentation" href="../index.html" />
    <link rel="up" title="Contributing to Open Babel" href="Contributing.html" />
    <link rel="next" title="Software Archaeology" href="SoftwareArchaeology.html" />
    <link rel="prev" title="Documentation" href="Documentation.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="SoftwareArchaeology.html" title="Software Archaeology"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="Documentation.html" title="Documentation"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">Open Babel v2.3.0 documentation</a> &raquo;</li>
          <li><a href="Contributing.html" accesskey="U">Contributing to Open Babel</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/babel130.png" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Testing the Code</a><ul>
<li><a class="reference internal" href="#types-of-tests">Types of Tests</a></li>
<li><a class="reference internal" href="#unix-linux-mac-os-x">UNIX/Linux/Mac OS X</a><ul>
<li><a class="reference internal" href="#memory-checkers">Memory Checkers</a></li>
<li><a class="reference internal" href="#code-profiling">Code Profiling</a></li>
<li><a class="reference internal" href="#c-unscrambler">C++ Unscrambler</a></li>
</ul>
</li>
<li><a class="reference internal" href="#windows">Windows</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="Documentation.html"
                        title="previous chapter">Documentation</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="SoftwareArchaeology.html"
                        title="next chapter">Software Archaeology</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/Contributing/Testing.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="testing-the-code">
<span id="testing"></span><h1>Testing the Code<a class="headerlink" href="#testing-the-code" title="Permalink to this headline">¶</a></h1>
<p>Testing is another important ongoing task for any large code base such as Open Babel. The following documentation is intended to give some idea as to the types of tests used by Open Babel and various tools available for debugging and testing.</p>
<div class="section" id="types-of-tests">
<h2>Types of Tests<a class="headerlink" href="#types-of-tests" title="Permalink to this headline">¶</a></h2>
<ul>
<li><dl class="first docutils">
<dt>Unit tests - These are run under the UNIX build environment by calling make check and include a variety of tests</dt>
<dd><ul class="first last simple">
<li>Ideally these tests should cover every public function in the Open Babel <a class="reference external" href="http://openbabel.org/api">API</a>. Adding more tests to provide greater coverage is a high priority.</li>
<li>The tests attempt to show that functions work as indicated (i.e. pass) and fail properly on unacceptable input.</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">Roundtrip tests - These are run from the test file repository (see <em class="xref std std-ref">repository</em>) and test file translation to/from all file formats.</p>
</li>
<li><p class="first">&#8220;Dogfood&#8221; tests - Many of the developers use the current development snapshots for their daily use. This is sometimes called eating your dog food and ensures that bugs which impact common functionality are caught quickly.</p>
</li>
<li><dl class="first docutils">
<dt>Scripting language tests &#8211; Both the Perl and Python language bindings have additional tests to ensure that these scripting language modules work.</dt>
<dd><ul class="first last simple">
<li>These tests not only stress the scripting modules themselves, but also the underlying library.</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="unix-linux-mac-os-x">
<h2>UNIX/Linux/Mac OS X<a class="headerlink" href="#unix-linux-mac-os-x" title="Permalink to this headline">¶</a></h2>
<p>A variety of tools can be used to help diagnose problems and debug errors:
Debuggers</p>
<ul>
<li><dl class="first docutils">
<dt><a class="reference external" href="http://www.gnu.org/software/gdb/">gdb</a> - the GNU project debugger is a basic debugger on UNIX systems.</dt>
<dd><ul class="first last simple">
<li>GDB can be run on the babel program like so: <tt class="docutils literal"><span class="pre">./libtool</span> <span class="pre">gdb</span> <span class="pre">src/babel</span></tt></li>
<li>Several GDB commands are highly useful, including bt which gives a full backtrace of program execution upon error.</li>
<li>The use of code optimization when compiling can make debugging with GDB and other debuggers extremely difficult. If needed, make sure Open Babel has been compiled, e.g. with <tt class="docutils literal"><span class="pre">CXXFLAGS=&quot;-g</span> <span class="pre">-O0&quot;</span></tt> on UNIX.</li>
</ul>
</dd>
</dl>
</li>
</ul>
<div class="section" id="memory-checkers">
<h3>Memory Checkers<a class="headerlink" href="#memory-checkers" title="Permalink to this headline">¶</a></h3>
<p>Unlike languages like Java, which handle memory allocation and deletion, C++ requires that all code handle memory. In particular, this means if you use new or malloc or similar calls, you must be sure the memory will be properly freed when no longer needed. So-called &#8220;memory leaks&#8221; are cases where memory has been allocated, but never properly freed and are significant bugs in Open Babel.</p>
<p>Several tools can help find such errors:</p>
<ul class="simple">
<li><a class="reference external" href="http://www.valgrind.org/">Valgrind</a> - Works on several platforms by carefully monitoring each memory access and allocation.</li>
<li><a class="reference external" href="http://www.andreasen.org/LeakTracer/">LeakTracer</a> - Works on a range of platforms by using C++ operator overloading.</li>
<li><a class="reference external" href="http://developer.apple.com/documentation/Performance/Conceptual/ManagingMemory/Articles/FindingLeaks.html">MallocDebug</a> (Mac OS X only) - Graphic front-end to monitor memory use and incorrect memory usage.</li>
</ul>
</div>
<div class="section" id="code-profiling">
<h3>Code Profiling<a class="headerlink" href="#code-profiling" title="Permalink to this headline">¶</a></h3>
<p>To improve the speed of execution, it is often helpful to rely on tools which can</p>
<ul class="simple">
<li><a class="reference external" href="http://www.gnu.org/software/gprof/">gprof</a> - Used with the GCC compilers to produce profiling data including the number of calls to routines and the amount of time spent executing.</li>
<li>Shark/Saturn (Mac OS X only) - Graphical front-ends to gprof and can sample programs while running.</li>
<li>callgrind - this is run through the valgrind virtual machine using <tt class="docutils literal"><span class="pre">valgrind</span> <span class="pre">--tool=callgrind</span> <span class="pre">./myexe</span></tt>. This works best (although slower) if the executable is compiled with debugging information (I think!).</li>
</ul>
</div>
<div class="section" id="c-unscrambler">
<h3>C++ Unscrambler<a class="headerlink" href="#c-unscrambler" title="Permalink to this headline">¶</a></h3>
<p>The symbols used by C++ compilers and exposed by debugging, profiling, and memory tools are &#8220;scrambled.&#8221; The c++filt_ program can be used to decode the symbol to a human-readable form.</p>
</div>
</div>
<div class="section" id="windows">
<h2>Windows<a class="headerlink" href="#windows" title="Permalink to this headline">¶</a></h2>
<p>If using MSVC++, Virtual Leak Detector can be used to find memory leaks.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="SoftwareArchaeology.html" title="Software Archaeology"
             >next</a> |</li>
        <li class="right" >
          <a href="Documentation.html" title="Documentation"
             >previous</a> |</li>
        <li><a href="../index.html">Open Babel v2.3.0 documentation</a> &raquo;</li>
          <li><a href="Contributing.html" >Contributing to Open Babel</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2010, Open Babel community.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.1.
    </div>
  </body>
</html>